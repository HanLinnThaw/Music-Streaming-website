{% extends "adminsidebar.html" %}
{% set active_page = 'dashboard' %}
{% block content %}
<div class="row nav-container">
    <nav class="navbar navbar-expand px-3 border-bottom">
        <div class="navbar-collapse navbar">
            <div class="container-fluid py-4 px-3" id="search-box">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
                    <li class="breadcrumb-item text-sm"><a class="opacity-5 text-dark" href="{{url_for('dashboard')}}">Dashboard</a></li>
                    <li class="breadcrumb-item text-sm text-dark active" aria-current="page">Songs</li>
                  </ol>
                  <h6 class="font-weight-bolder mb-0">Song List</h6>
                </nav>
              </div>
        </div>
        <div class="navbar-collapse" id="navbar">
            <form action ="/searchplay" method= "POST">
                <div class="ms-md-auto d-flex">
                  <div class="input-group">
                    <button class="input-group-text text-body"><i class="fas fa-search" aria-hidden="true" type="submit"></i></button>
                    <input type="text" class="form-control" name="searchplay" placeholder="Type here...">
                  </div>
                </div>
              </form>
            <ul class="navbar-nav">
              <li class="nav-item d-flex px-1 align-items-center">
                <a href="{{url_for('logout')}}" class="nav-link text-body font-weight-bold px-0">
                  <i class="fa fa-sign-out me-sm-1"></i>
                  <span class="d-sm-inline d-none">Log Out</span>
                </a>
              </li>
              <li class="nav-item px-0 align-items-center">
                <button class="btn" id="sidebar-toggle" type="button">
                <span class="navbar-toggler-icon"></span>
                </button>
                </a>
              </li>
            </ul>
          </div>
        
    </nav>
</div>
<div class="container-fluid py-4">
    
    <div class="row count-list-box">
        <div class="col-xl-6 col-sm-6 mb-xl-0 mb-4 d-flex" id="card-bo">
            <div class="card flex-fill border-0 illustration">
                <div class="card-body p-0 d-flex flex-fill" id="card1">
                    <div class="row g-0 w-100">
                        <div class="col-6">
                            <div class="p-3 m-1">
                                <h3>User List</h3>
                                <h5 class="mb-0">Total Users</h5>
                                <span class="icon"><i class="fa fa-user"></i></span>
                                <span class="text">{{user_count}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-6 col-sm-6 mb-xl-0 mb-4 d-flex" id="card-bo">
            <div class="card flex-fill border-0 illustration">
                <div class="card-body p-0 d-flex flex-fill">
                    <div class="row g-0 w-100">
                        <div class="col-6">
                            <div class="p-3 m-1">
                                <h3>Artists Lists</h3>
                                <h5 class="mb-0">Total Artists</h5>
                                <span class="icon"><i class="fa fa-user"></i></span>
                                <span class="text">{{artist_count}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-6 col-sm-6 mb-xl-0 mb-4 d-flex" id="card-bo">
            <div class="card flex-fill border-0 illustration">
                <div class="card-body p-0 d-flex flex-fill" id="card3">
                    <div class="row g-0 w-100">
                        <div class="col-6">
                            <div class="p-3 m-1">
                                <h3>Song Lists</h3>
                                <h5 class="mb-0">Total Songs</h5>
                                <span class="icon"><i class="fa fa-music"></i></span>
                                <span class="text">{{song_count}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-6 col-sm-6 mb-xl-0 mb-4 d-flex" id="card-bo">
            <div class="card flex-fill border-0 illustration">
                <div class="card-body p-0 d-flex flex-fill" id="card4">
                        <div class="col-6">
                            <div class="p-3 m-1">
                                <h3>Album Lists</h3>
                                <h5 class="mb-0">Total Albums</h5>
                                <span class="icon"><i class="fa-solid fa-compact-disc"></i></span>
                                <span class="text">{{album_count}}</span>
                            </div>
                        </div>

                </div>
            </div>
        </div>
    </div>
    <div class="Name_contain">
        <h4>Played Song History</h4>
    </div>
    <div class="table-container">
        <div class="table-contain">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">No</th>
                        <th scope="col">UserID</th>
                        <th scope="col">SongID</th>
                        <th scope="col">SongName</th>
                        <th scope="col">DateTime</th>
                    </tr>
                </thead>
                <tbody>
                    {% if searchdata %}
                    {% for song in searchdata %}
                    <tr>
                        
                        <td>{{loop.index}}</td>
                        <td>{{song['UserID']}}</td>
                        <td>{{song['SongID']}}</td>
                        <td>{{song['SongName']}}</td>
                        <td>{{song['DateTime']}}</td>
                    </tr>
                {% endfor %}
                    {% else %}
                    {% for song in playsong %}
                    <tr>
                        
                        <td>{{loop.index}}</td>
                        <td>{{song['UserID']}}</td>
                        <td>{{song['SongID']}}</td>
                        <td>{{song['SongName']}}</td>
                        <td>{{song['DateTime']}}</td>
                    </tr>
                {% endfor %}
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}